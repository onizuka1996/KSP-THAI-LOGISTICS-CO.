# Telegram Webhook Server สำหรับ KSP Thai Logistics

เซิร์ฟเวอร์สำหรับรับไฟล์จากแบบฟอร์มสมัครงานและส่งต่อไปยัง Telegram API

## การติดตั้ง

1. ติดตั้ง Node.js (เวอร์ชัน 14.x หรือสูงกว่า)
2. เปิด Terminal และนำทางไปยังโฟลเดอร์ webhook-server:
   ```
   cd c:\Users\metal\OneDrive\Desktop\KSP\webhook-server
   ```
3. ติดตั้ง dependencies:
   ```
   npm install
   ```

## การใช้งาน

1. เริ่มต้นเซิร์ฟเวอร์ในโหมดพัฒนา:
   ```
   npm run dev
   ```
   หรือเริ่มต้นในโหมดปกติ:
   ```
   npm start
   ```

2. เซิร์ฟเวอร์จะทำงานที่ http://localhost:3000/ โดยค่าเริ่มต้น

3. ฟอร์มในไฟล์ careers.html จะส่งไฟล์ไปยัง webhook server และเซิร์ฟเวอร์จะส่งต่อไปยัง Telegram

## การทดสอบ

คุณสามารถทดสอบว่าเซิร์ฟเวอร์ทำงานอยู่หรือไม่ด้วยการเข้าถึง:

```
http://localhost:3000/
```

คุณควรเห็นข้อความตอบกลับเป็น JSON ที่บอกว่าเซิร์ฟเวอร์กำลังทำงานอยู่

## คำแนะนำสำหรับการใช้งานจริง

1. ในการใช้งานจริง คุณควรโฮสต์เซิร์ฟเวอร์นี้บน cloud service เช่น Heroku, Vercel, Railway หรือ VPS
2. ปรับ URL ในไฟล์ `js/telegram-sender.js` ให้ชี้ไปยัง URL ของเซิร์ฟเวอร์จริง ไม่ใช่ localhost
3. ตั้งค่า environment variables สำหรับพอร์ตและการรักษาความปลอดภัยเพิ่มเติม
4. พิจารณาเพิ่มระบบรักษาความปลอดภัยเพื่อป้องกันการโจมตีและการใช้งานที่ไม่ได้รับอนุญาต
   * เพิ่ม API key หรือ token สำหรับการตรวจสอบความถูกต้อง
   * จำกัดขนาดและประเภทของไฟล์ที่อัปโหลดได้
   * ตั้งค่า rate limiting เพื่อป้องกันการโจมตีแบบ DDoS

## การแก้ไขปัญหา

* หากไฟล์ไม่ถูกส่งไปยัง Telegram ให้ตรวจสอบ console ของเซิร์ฟเวอร์เพื่อดูข้อผิดพลาด
* ตรวจสอบว่า Telegram Bot Token และ Chat ID ถูกต้อง
* ตรวจสอบการเชื่อมต่ออินเทอร์เน็ต
